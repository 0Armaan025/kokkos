
//----------------------------------------------------------------------------
// Set the default execution space.
//
#cmakedefine KOKKOS_DEVICE_SPACE_ACTIVE
#cmakedefine KOKKOS_HOSTPARALLEL_SPACE_ACTIVE

class NoTypeDefined {
};

/// Define Kokkos::DefaultExecutionSpace as per configuration option
/// or chosen from the enabled execution spaces in the following order:
/// Kokkos::Cuda, Kokkos::Experimental::HIP, 
/// Kokkos::Experimental::OpenMPTarget,Kokkos::OpenMP, Kokkos::Threads, 
/// Kokkos::Serial
/// Note: the order is determined within the CMake logic, not here

#if defined(__clang_analyzer__)
#define KOKKOS_IMPL_DEFAULT_EXEC_SPACE_ANNOTATION \
  [[clang::annotate("DefaultExecutionSpace")]]
#define KOKKOS_IMPL_DEFAULT_HOST_EXEC_SPACE_ANNOTATION \
  [[clang::annotate("DefaultHostExecutionSpace")]]
#else
#define KOKKOS_IMPL_DEFAULT_EXEC_SPACE_ANNOTATION
#define KOKKOS_IMPL_DEFAULT_HOST_EXEC_SPACE_ANNOTATION
#endif

namespace Kokkos {

#if defined(KOKKOS_DEVICE_SPACE_ACTIVE)
   using DefaultExecutionSpace KOKKOS_IMPL_DEFAULT_EXEC_SPACE_ANNOTATION =
         @_DEVICE_PARALLEL@;
   #if defined(KOKKOS_HOSTPARALLEL_SPACE_ACTIVE)
      using DefaultHostExecutionSpace KOKKOS_IMPL_DEFAULT_HOST_EXEC_SPACE_ANNOTATION =
         @_HOST_PARALLEL@;
   #else
      using DefaultHostExecutionSpace KOKKOS_IMPL_DEFAULT_HOST_EXEC_SPACE_ANNOTATION =
         Serial;
   #endif
#else
   #if defined(KOKKOS_HOSTPARALLEL_SPACE_ACTIVE)
      using DefaultExecutionSpace KOKKOS_IMPL_DEFAULT_EXEC_SPACE_ANNOTATION =
          @_HOST_PARALLEL@;
      using DefaultHostExecutionSpace KOKKOS_IMPL_DEFAULT_HOST_EXEC_SPACE_ANNOTATION =
          @_HOST_PARALLEL@;
   #else
      using DefaultHostExecutionSpace KOKKOS_IMPL_DEFAULT_EXEC_SPACE_ANNOTATION =
          Serial;
      using DefaultExecutionSpace KOKKOS_IMPL_DEFAULT_HOST_EXEC_SPACE_ANNOTATION =
          Serial;
   #endif
#endif

namespace Impl {

   using DefaultDeviceMemorySpace=@_DEFAULT_DEVICE_MEMSPACE@;
   using DefaultHostMemorySpace=@_DEFAULT_HOST_MEMSPACE@;


//----------------------------------------------------------------------------
// Detect the active execution space and define its memory space.
// This is used to verify whether a running kernel can access
// a given memory space.
#if defined(KOKKOS_ACTIVE_EXECUTION_MEMORY_SPACE_CUDA) && \
    defined(KOKKOS_ENABLE_CUDA)
using ActiveExecutionMemorySpace = DefaultDeviceMemorySpace;
#elif defined(KOKKOS_ACTIVE_EXECUTION_MEMORY_SPACE_HIP_GPU) && \
    defined(KOKKOS_ENABLE_HIP)
using ActiveExecutionMemorySpace = DefaultDeviceMemorySpace;
#elif defined(KOKKOS_ACTIVE_EXECUTION_MEMORY_SPACE_HOST)
using ActiveExecutionMemorySpace = DefaultHostMemorySpace;
#else
using ActiveExecutionMemorySpace = void;
#endif


}  // namespace Impl

}  // namespace Kokkos
